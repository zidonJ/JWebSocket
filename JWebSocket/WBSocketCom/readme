
WebSocket都是基于连接的,也就是说我们知道data是从那个connection发过来,但并不知道使用客户端的是a或者b,
此时我们就需要在Server端能够标识用户身份和连接的对应关系。

需要在客户端连接到WebSocket之后,紧接着再发一次请求,告诉Server我的user_id是多少,Server将此user_id与connection之间的关系存储在hashmap中,
至此就建立了user_id与connection的对应关系。当需要发送消息给对应的客户端,从此hashmap中取出对应用户的connection信息,调用其send方法发出消息即可。

